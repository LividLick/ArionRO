//===== Hercules Script ======================================
//= Hat Girl
//===== By: ==================================================
//= Toms and Tokeiburu
//===== Current Version: =====================================
//= 1.0
//===== Description: =========================================
//= Create hats.
//===== Additional Comments: =================================
//= 
//============================================================

prt_in,38,108,5	script	Middle Headgear#slot	4_F_LUCILE,{
	setarray .@hats,
		19001,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19002,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19003,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19004,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19005,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19006,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19007,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19008,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19009,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19010,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19011,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19012,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19013,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19014,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19015,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19016,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19017,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19018,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19019,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19020,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19021,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19022,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19023,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19024,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19025,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19026,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19027,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19028,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19029,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19030,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19031,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19032,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19033,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19034,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19035,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19036,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19037,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19038,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19039,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19040,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19041,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19042,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19043,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19044,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19045,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19046,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19047,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19048,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19050,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19051,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19052,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19053,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19055,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19056,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19057,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19058,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19059,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000,
		19060,	7561,600,7168,300,7512,100,7451,1,1030,1,-1,20000000;
		
		
		
	.@count = 1 + 6 * 2;
	.@endIndex = 0;
	
	for (.@i = 0; .@i < getarraysize(.@hats); .@i += .@count) {
		if (.@i == 0)
			.@menu$ = getitemname(.@hats[.@i]);
		else
			.@menu$ = .@menu$ + ":" + getitemname(.@hats[.@i]);
		
		.@endIndex++;
	}
	
		mes "[Middle Headgear Master] ";
	mes "I can slot any middle headgear you wish for, as long as you bring me all the ingredients!";
	mes "What do you want me to slot for you?";
	next;
	
	while(1) {
		.@j = select(.@menu$ + ":End Conversation") - 1;
		
		if (.@j >= .@endIndex) {
			close;
		}
		
		//mes "[Middle Headgear Master]";
		mes "~ Recipe for ^009900" + getitemname(.@hats[.@j * .@count]) + "^000000 ~";
		mes " ";
		
		for (.@i = 1; .@i < .@count; .@i += 2) {
			if (.@hats[.@j * .@count + .@i] > 0) {
				mes .@hats[.@j * .@count + .@i + 1] + " ^0000ff" + getitemname(.@hats[.@j * .@count + .@i]) + "^000000";
			}
			else if (.@hats[.@j * .@count + .@i] == -1) {
				callfunc("ZenyToString",@a$,.@hats[.@j * .@count + .@i + 1]);
				mes @a$ + " ^0000ffzeny^000000";
			}
		}
		
		next;
		switch(select("Slot The Middle Headgear:I changed my mind!")) {
			case 1:
				mes "[Middle Slot Master]";
				
				.@hasItems = 1;
				
				for (.@i = 1; .@i < .@count; .@i += 2) {
					if (.@hats[.@j * .@count + .@i] > 0) {
						if (countitem(.@hats[.@j * .@count + .@i]) < .@hats[.@j * .@count + .@i + 1]) {
							if (.@hasItems > 0)
								mes "^ff0000You do not have the required items.^000000 You are missing : ";
							
							mes (.@hats[.@j * .@count + .@i + 1] - countitem(.@hats[.@j * .@count + .@i])) + " ^0000ff" + getitemname(.@hats[.@j * .@count + .@i]) + "^000000";
							.@hasItems = 0;
						}
					}
					else if (.@hats[.@j * .@count + .@i] == -1) {
						if (Zeny < .@hats[.@j * .@count + .@i + 1]) {
							if (.@hasItems > 0)
								mes "^ff0000You do not have the required items.^000000 You are missing : ";
							
							callfunc("ZenyToString",@a$,.@hats[.@j * .@count + .@i + 1] - Zeny);
							mes @a$ + " ^0000ffzeny^000000";
							.@hasItems = 0;
						}
					}
				}
				
				if (.@hasItems == 0) {
					close;
				}
				
				for (.@i = 1; .@i < .@count; .@i += 2) {
					if (.@hats[.@j * .@count + .@i] > 0) {
						delitem .@hats[.@j * .@count + .@i],.@hats[.@j * .@count + .@i + 1];
					}
					else if (.@hats[.@j * .@count + .@i] == -1) {
						Zeny -= .@hats[.@j * .@count + .@i + 1];
					}
				}
				
				emotion e_oh;
				mes "^3355FF*Vroooooom~~*";
				mes "*Bzzzzzt*";
				mes "*choogachooga*";
				mes "*Kapang!*^000000";
				getitem .@hats[.@j * .@count],1;
				close;
			break;
			case 2:
				break;
		}
	}
	close;
}
